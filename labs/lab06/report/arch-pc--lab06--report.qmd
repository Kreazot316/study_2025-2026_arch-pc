---
## Author
author:
  name: Карпухин Клим
  degrees: none
  orcid: 0000-0002-0877-7063
  email: 1032255580@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Отчёт по лабораторной работе No6"
subtitle: "Арифметические инструкции языка ассемблера NASM."
license: "CC BY"
---

# 1. Цель работы

Цель данной лабораторной работы — освоение арифметических инструкций языка ассемблера NASM.



# 2 Выполнение лабораторной работы
## 2.1 Символьные и численные данные в NASM

Создал каталог для программ лабороторной работы No6, перешёл в него и создал файл lab6-1.asm ([рис. @fig-001]).

![Создание каталога для программ лабороторной работы No6, переход в него и создание файла lab6-1.asm](image/1.jpeg){#fig-001 width=70%}

Ввёл в файл lab6-1.asm код программы из листинга 6.1([рис. @fig-002]).

![Ввод кода программы](image/2.jpeg){#fig-002 width=70%}

Создал исполняемый файл и запустил его ([рис. @fig-003]).

![Создание исполняемого файла и его запуск](image/3.jpeg){#fig-003 width=70%}

Изменил текст программы, вместо символов записав в регистры числа ([рис. @fig-004]).

![Изменённый текст программы](image/4.jpeg){#fig-004 width=70%}

После запуска исполняемого файла я обнаружил, что код 10 в таблице ASCII соответствует символу LF (Line Feed), или переводу строки. Это непечатаемый символ, который не отображается на экране, а служит командой для переноса курсора на новую строку. ([рис. @fig-005]).

![Создание исполняемого файла и его запуск](image/5.jpeg){#fig-005 width=70%}

Создал файл lab6-2.asm и ввёл в него текст из листинга 6.2 ([рис. @fig-006]).

![Ввод кода программы](image/6.jpeg){#fig-006 width=70%}

Создал исполняемый файл и запустил его ([рис. @fig-007]).

![Создание исполняемого файла и его запуск](image/7.jpeg){#fig-007 width=70%}

Аналогично предыдущему примеру я изменил симвлолы на числа, создал исполняемый файл и запустил его. Программа выдала: 10 ([рис. @fig-008]).

![Создание изменённого исполняемого файла и его запуск](image/8.jpeg){#fig-008 width=70%}

Заменил функцию iprintLF на iprint. После замены и запуска программы выяснилось, что iprintLF выводит число с переводом строки, а iprint — без него. ([рис. @fig-009]).

![Создание исполняемого файла с изменёнными функциями и его запуск](image/9.jpeg){#fig-009 width=70%}



## 2.2 Выполнение арифметических операций в NASM

Создал файл lab6-3.asm в каталоке ~/work/arch-pc/lab06 ([рис. @fig-010]).

![Создание файла lab6-3.asm](image/10.jpeg){#fig-010 width=70%}

Ввёл в файл lab6-3.asm код программы из листинга 6.3([рис. @fig-011]).

![Ввод текста программы](image/11.jpeg){#fig-011 width=70%}

Создал исполняемый файл и запустил его([рис. @fig-012]).

![Создание исполняемого файла и его запуск](image/12.jpeg){#fig-012 width=70%}

Изменил текст программы для вычисления f(x)=(4*6+2)/5.([рис. @fig-013]).

![Изменённый текст программы](image/13.jpeg){#fig-013 width=70%}

Создал исполняемый файл и запустил его([рис. @fig-014]).

![Создание исполняемого файла и его запуск](image/14.jpeg){#fig-014 width=70%}

Создал файл variant.asm в каталоке ~/work/arch-pc/lab06([рис. @fig-015]).

![Создание файла variant.asm](image/15.jpeg){#fig-015 width=70%}

Ввёл в файл variant.asm код программы из листинга 6.4([рис. @fig-016]).

![Ввод текста программы](image/16.jpeg){#fig-016 width=70%}

Создал исполняемый файл и запустил его([рис. @fig-017]).

![Создание исполняемого файла и его запуск](image/17.jpeg){#fig-017 width=70%}



Формула из программы:

Программа вычисляет: (номер_билета % 20) + 1.
% - операция взятия остатка от деления.

Вычисление:
Делим номер билета на 20:
1032255580÷20=51612779 (остаток 0)

Так как число оканчивается на 0, оно делится на 20 без остатка.
Остаток: 0.

Добавляем 1: 0 + 1 = 1.
Результат: Вариант = 1.


1. Строки, отвечающие за вывод сообщения 'Ваш вариант:':
mov eax,rem
call sprint

2. Назначение инструкций:
mov ecx, x    - помещает адрес буфера x в регистр ecx
mov edx, 80   -  устанавливает максимальную длину ввода (80 символов)
call sread    - вызывает функцию чтения строки с клавиатуры

3. Назначение инструкции "call atoi":
Преобразует ASCII-строку в число и сохраняет результат в регистре eax.

4. Строки, отвечающие за вычисление варианта:
xor edx,edx    
mov ebx,20     
div ebx       
inc edx        

5. Регистр для остатка от деления:
При выполнении div ebx остаток записывается в регистр edx.

6. Назначение инструкции "inc edx":
Увеличивает значение в edx на 1, так как варианты нумеруются с 1, а не с 0.

7. Строки вывода результата вычислений:
mov eax,edx
call iprintLF


# 3. Выполнение самостоятельной работы

Вид функции, соответствующий полученному варианту (1): f(x)=(10+2x)/3

Написал программу для вычисления y=f(x)([рис. @fig-018]).

![Текст программу для вычисления y=f(x)](image/18.jpeg){#fig-018 width=70%}

Создал исполняемый файл и проверил его работу для значений x1 и x2 из 6.3([рис. @fig-019]).

![Создание исполняемого файла и проверка его работы](image/19.jpeg){#fig-019 width=70%}



# 4. Выводы

Я освоил арифметические инструкции языка ассемблера NASM.

# Список литературы{.unnumbered}

::: {#refs}
:::
